name: Copy Environment Files
description: "Copies environment files based on branch"
runs:
  using: "composite"
  steps:
    - name: Copy Environment Files
      run: | 
        cp ./proxy-router/models-config.json.example ./proxy-router/models-config.json
        cp ./proxy-router/models-config.json.example models-config.json
        if [[ "${GITHUB_REF}" == "refs/heads/main" ]]; then
          cp ./.github/workflows/proxy-router.main.env ./proxy-router/.env
          cp ./.github/workflows/proxy-router.main.env .env
          cp ./.github/workflows/ui-desktop.main.env ./ui-desktop/.env
        elif [[ "${GITHUB_REF}" == "refs/heads/stg" ]]; then
          cp ./.github/workflows/proxy-router.test.env ./proxy-router/.env
          cp ./.github/workflows/proxy-router.test.env .env
          cp ./.github/workflows/ui-desktop.test.env ./ui-desktop/.env
        else
          cp ./proxy-router/.env.example ./proxy-router/.env
          cp ./proxy-router/.env.example .env
          cp ./ui-desktop/.env.example ./ui-desktop/.env
        fi